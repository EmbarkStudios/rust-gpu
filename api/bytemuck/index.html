<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate gives small utilities for casting between plain data types."><title>bytemuck - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bytemuck" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0-nightly (8ce4540bd 2023-09-29)" data-channel="nightly" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../bytemuck/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../bytemuck/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate bytemuck</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 1.18.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">bytemuck</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/bytemuck/lib.rs.html#1-536">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate gives small utilities for casting between plain data types.</p>
<h3 id="basics"><a href="#basics">Basics</a></h3>
<p>Data comes in five basic forms in Rust, so we have five basic casting
functions:</p>
<ul>
<li><code>T</code> uses <a href="fn.cast.html" title="fn bytemuck::cast"><code>cast</code></a></li>
<li><code>&amp;T</code> uses <a href="fn.cast_ref.html" title="fn bytemuck::cast_ref"><code>cast_ref</code></a></li>
<li><code>&amp;mut T</code> uses <a href="fn.cast_mut.html" title="fn bytemuck::cast_mut"><code>cast_mut</code></a></li>
<li><code>&amp;[T]</code> uses <a href="fn.cast_slice.html" title="fn bytemuck::cast_slice"><code>cast_slice</code></a></li>
<li><code>&amp;mut [T]</code> uses <a href="fn.cast_slice_mut.html" title="fn bytemuck::cast_slice_mut"><code>cast_slice_mut</code></a></li>
</ul>
<p>Depending on the function, the <a href="trait.NoUninit.html" title="trait bytemuck::NoUninit"><code>NoUninit</code></a> and/or <a href="trait.AnyBitPattern.html" title="trait bytemuck::AnyBitPattern"><code>AnyBitPattern</code></a> traits
are used to maintain memory safety.</p>
<p><strong>Historical Note:</strong> When the crate first started the <a href="trait.Pod.html" title="trait bytemuck::Pod"><code>Pod</code></a> trait was used
instead, and so you may hear people refer to that, but it has the strongest
requirements and people eventually wanted the more fine-grained system, so
here we are. All types that impl <code>Pod</code> have a blanket impl to also support
<code>NoUninit</code> and <code>AnyBitPattern</code>. The traits unfortunately do not have a
perfectly clean hierarchy for semver reasons.</p>
<h3 id="failures"><a href="#failures">Failures</a></h3>
<p>Some casts will never fail, and other casts might fail.</p>
<ul>
<li><code>cast::&lt;u32, f32&gt;</code> always works (and <a href="https://doc.rust-lang.org/nightly/core/primitive.f32.html#method.from_bits" title="associated function f32::from_bits"><code>f32::from_bits</code></a>).</li>
<li><code>cast_ref::&lt;[u8; 4], u32&gt;</code> might fail if the specific array reference
given at runtime doesn’t have alignment 4.</li>
</ul>
<p>In addition to the “normal” forms of each function, which will panic on
invalid input, there’s also <code>try_</code> versions which will return a <code>Result</code>.</p>
<p>If you would like to statically ensure that a cast will work at runtime you
can use the <code>must_cast</code> crate feature and the <code>must_</code> casting functions. A
“must cast” that can’t be statically known to be valid will cause a
compilation error (and sometimes a very hard to read compilation error).</p>
<h3 id="using-your-own-types"><a href="#using-your-own-types">Using Your Own Types</a></h3>
<p>All the functions listed above are guarded by the <a href="trait.Pod.html" title="trait bytemuck::Pod"><code>Pod</code></a> trait, which is a
sub-trait of the <a href="trait.Zeroable.html" title="trait bytemuck::Zeroable"><code>Zeroable</code></a> trait.</p>
<p>If you enable the crate’s <code>derive</code> feature then these traits can be derived
on your own types. The derive macros will perform the necessary checks on
your type declaration, and trigger an error if your type does not qualify.</p>
<p>The derive macros might not cover all edge cases, and sometimes they will
error when actually everything is fine. As a last resort you can impl these
traits manually. However, these traits are <code>unsafe</code>, and you should
carefully read the requirements before using a manual implementation.</p>
<h3 id="cargo-features"><a href="#cargo-features">Cargo Features</a></h3>
<p>The crate supports Rust 1.34 when no features are enabled, and so there’s
cargo features for thing that you might consider “obvious”.</p>
<p>The cargo features <strong>do not</strong> promise any particular MSRV, and they may
increase their MSRV in new versions.</p>
<ul>
<li><code>derive</code>: Provide derive macros for the various traits.</li>
<li><code>extern_crate_alloc</code>: Provide utilities for <code>alloc</code> related types such as
Box and Vec.</li>
<li><code>zeroable_maybe_uninit</code> and <code>zeroable_atomics</code>: Provide more <a href="trait.Zeroable.html" title="trait bytemuck::Zeroable"><code>Zeroable</code></a>
impls.</li>
<li><code>wasm_simd</code> and <code>aarch64_simd</code>: Support more SIMD types.</li>
<li><code>min_const_generics</code>: Provides appropriate impls for arrays of all lengths
instead of just for a select list of array lengths.</li>
<li><code>must_cast</code>: Provides the <code>must_</code> functions, which will compile error if
the requested cast can’t be statically verified.</li>
<li><code>const_zeroed</code>: Provides a const version of the <code>zeroed</code> function.</li>
</ul>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.CheckedBitPattern"><code>pub use checked::<a class="trait" href="checked/trait.CheckedBitPattern.html" title="trait bytemuck::checked::CheckedBitPattern">CheckedBitPattern</a>;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="checked/index.html" title="mod bytemuck::checked">checked</a></div><div class="desc docblock-short">Checked versions of the casting functions exposed in crate root
that support <a href="checked/trait.CheckedBitPattern.html" title="trait bytemuck::checked::CheckedBitPattern"><code>CheckedBitPattern</code></a> types.</div></li></ul><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.offset_of.html" title="macro bytemuck::offset_of">offset_of</a></div><div class="desc docblock-short">Find the offset in bytes of the given <code>$field</code> of <code>$Type</code>. Requires an
already initialized <code>$instance</code> value to work with.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.PodCastError.html" title="enum bytemuck::PodCastError">PodCastError</a></div><div class="desc docblock-short">The things that can go wrong when casting between <a href="trait.Pod.html" title="trait bytemuck::Pod"><code>Pod</code></a> data forms.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AnyBitPattern.html" title="trait bytemuck::AnyBitPattern">AnyBitPattern</a></div><div class="desc docblock-short">Marker trait for “plain old data” types that are valid for any bit pattern.</div></li><li><div class="item-name"><a class="trait" href="trait.Contiguous.html" title="trait bytemuck::Contiguous">Contiguous</a></div><div class="desc docblock-short">A trait indicating that:</div></li><li><div class="item-name"><a class="trait" href="trait.NoUninit.html" title="trait bytemuck::NoUninit">NoUninit</a></div><div class="desc docblock-short">Marker trait for “plain old data” types with no uninit (or padding) bytes.</div></li><li><div class="item-name"><a class="trait" href="trait.Pod.html" title="trait bytemuck::Pod">Pod</a></div><div class="desc docblock-short">Marker trait for “plain old data”.</div></li><li><div class="item-name"><a class="trait" href="trait.PodInOption.html" title="trait bytemuck::PodInOption">PodInOption</a></div><div class="desc docblock-short">Trait for types which are <a href="trait.Pod.html" title="trait bytemuck::Pod">Pod</a> when wrapped in
<a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>.</div></li><li><div class="item-name"><a class="trait" href="trait.TransparentWrapper.html" title="trait bytemuck::TransparentWrapper">TransparentWrapper</a></div><div class="desc docblock-short">A trait which indicates that a type is a <code>#[repr(transparent)]</code> wrapper
around the <code>Inner</code> value.</div></li><li><div class="item-name"><a class="trait" href="trait.Zeroable.html" title="trait bytemuck::Zeroable">Zeroable</a></div><div class="desc docblock-short">Trait for types that can be safely created with
<a href="https://doc.rust-lang.org/nightly/core/mem/fn.zeroed.html" title="fn core::mem::zeroed"><code>zeroed</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.ZeroableInOption.html" title="trait bytemuck::ZeroableInOption">ZeroableInOption</a></div><div class="desc docblock-short">Trait for types which are <a href="trait.Zeroable.html" title="trait bytemuck::Zeroable">Zeroable</a> when wrapped in
<a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.bytes_of.html" title="fn bytemuck::bytes_of">bytes_of</a></div><div class="desc docblock-short">Re-interprets <code>&amp;T</code> as <code>&amp;[u8]</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.bytes_of_mut.html" title="fn bytemuck::bytes_of_mut">bytes_of_mut</a></div><div class="desc docblock-short">Re-interprets <code>&amp;mut T</code> as <code>&amp;mut [u8]</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.cast.html" title="fn bytemuck::cast">cast</a></div><div class="desc docblock-short">Cast <code>T</code> into <code>U</code></div></li><li><div class="item-name"><a class="fn" href="fn.cast_mut.html" title="fn bytemuck::cast_mut">cast_mut</a></div><div class="desc docblock-short">Cast <code>&amp;mut T</code> into <code>&amp;mut U</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.cast_ref.html" title="fn bytemuck::cast_ref">cast_ref</a></div><div class="desc docblock-short">Cast <code>&amp;T</code> into <code>&amp;U</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.cast_slice.html" title="fn bytemuck::cast_slice">cast_slice</a></div><div class="desc docblock-short">Cast <code>&amp;[A]</code> into <code>&amp;[B]</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.cast_slice_mut.html" title="fn bytemuck::cast_slice_mut">cast_slice_mut</a></div><div class="desc docblock-short">Cast <code>&amp;mut [T]</code> into <code>&amp;mut [U]</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.fill_zeroes.html" title="fn bytemuck::fill_zeroes">fill_zeroes</a></div><div class="desc docblock-short">Fill all bytes of <code>slice</code> with zeroes (see <a href="trait.Zeroable.html" title="trait bytemuck::Zeroable"><code>Zeroable</code></a>).</div></li><li><div class="item-name"><a class="fn" href="fn.from_bytes.html" title="fn bytemuck::from_bytes">from_bytes</a></div><div class="desc docblock-short">Re-interprets <code>&amp;[u8]</code> as <code>&amp;T</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.from_bytes_mut.html" title="fn bytemuck::from_bytes_mut">from_bytes_mut</a></div><div class="desc docblock-short">Re-interprets <code>&amp;mut [u8]</code> as <code>&amp;mut T</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.pod_align_to.html" title="fn bytemuck::pod_align_to">pod_align_to</a></div><div class="desc docblock-short">As <a href="https://doc.rust-lang.org/std/primitive.slice.html#method.align_to"><code>align_to</code></a>,
but safe because of the <a href="trait.Pod.html" title="trait bytemuck::Pod"><code>Pod</code></a> bound.</div></li><li><div class="item-name"><a class="fn" href="fn.pod_align_to_mut.html" title="fn bytemuck::pod_align_to_mut">pod_align_to_mut</a></div><div class="desc docblock-short">As <a href="https://doc.rust-lang.org/std/primitive.slice.html#method.align_to_mut"><code>align_to_mut</code></a>,
but safe because of the <a href="trait.Pod.html" title="trait bytemuck::Pod"><code>Pod</code></a> bound.</div></li><li><div class="item-name"><a class="fn" href="fn.pod_read_unaligned.html" title="fn bytemuck::pod_read_unaligned">pod_read_unaligned</a></div><div class="desc docblock-short">Reads the slice into a <code>T</code> value.</div></li><li><div class="item-name"><a class="fn" href="fn.try_cast.html" title="fn bytemuck::try_cast">try_cast</a></div><div class="desc docblock-short">Try to cast <code>T</code> into <code>U</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.try_cast_mut.html" title="fn bytemuck::try_cast_mut">try_cast_mut</a></div><div class="desc docblock-short">Try to convert a <code>&amp;mut T</code> into <code>&amp;mut U</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.try_cast_ref.html" title="fn bytemuck::try_cast_ref">try_cast_ref</a></div><div class="desc docblock-short">Try to convert a <code>&amp;T</code> into <code>&amp;U</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.try_cast_slice.html" title="fn bytemuck::try_cast_slice">try_cast_slice</a></div><div class="desc docblock-short">Try to convert <code>&amp;[A]</code> into <code>&amp;[B]</code> (possibly with a change in length).</div></li><li><div class="item-name"><a class="fn" href="fn.try_cast_slice_mut.html" title="fn bytemuck::try_cast_slice_mut">try_cast_slice_mut</a></div><div class="desc docblock-short">Try to convert <code>&amp;mut [A]</code> into <code>&amp;mut [B]</code> (possibly with a change in
length).</div></li><li><div class="item-name"><a class="fn" href="fn.try_from_bytes.html" title="fn bytemuck::try_from_bytes">try_from_bytes</a></div><div class="desc docblock-short">Re-interprets <code>&amp;[u8]</code> as <code>&amp;T</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.try_from_bytes_mut.html" title="fn bytemuck::try_from_bytes_mut">try_from_bytes_mut</a></div><div class="desc docblock-short">Re-interprets <code>&amp;mut [u8]</code> as <code>&amp;mut T</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.try_pod_read_unaligned.html" title="fn bytemuck::try_pod_read_unaligned">try_pod_read_unaligned</a></div><div class="desc docblock-short">Reads from the bytes as if they were a <code>T</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.write_zeroes.html" title="fn bytemuck::write_zeroes">write_zeroes</a></div><div class="desc docblock-short">Fill all bytes of <code>target</code> with zeroes (see <a href="trait.Zeroable.html" title="trait bytemuck::Zeroable"><code>Zeroable</code></a>).</div></li></ul></section></div></main></body></html>